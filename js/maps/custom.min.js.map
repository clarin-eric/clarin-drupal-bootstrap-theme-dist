{"version":3,"file":"../custom.min.js","names":["$","Drupal","behaviors","clarin_theme_custom","attach","context","document","readyState","each","label","this","find","text","attr","scrollDownBtn","registerItemsPerPageHandler","on","trigger","length","click","scrollIntoView","addClass","append","parent","removeClass","focus","select","activeDropdownTgg","body","bootstrap","Dropdown","getOrCreateInstance","show","blur","jQuery"],"sources":["custom.js"],"sourcesContent":["/**\n * @file\n * Global utilities.\n *\n */\n(($, Drupal) => {\n  Drupal.behaviors.clarin_theme_custom = {\n    attach: function attach(context) {\n      if (context !== document || document.readyState !== \"interactive\") {\n        return;\n      }\n\n      // Form field label as placeholder\n      $(\n        \".mailchimp-signup-subscribe-form .form-type-email, .path-search .search-form .form-type-search\",\n        document\n      ).each(() => {\n        const label = $(this)\n          .find(\"label\")\n          .text();\n        $(this)\n          .find(\".form-control\")\n          .attr(\"placeholder\", label);\n      });\n\n      // Header scroll down arrow function\n      const scrollDownBtn = $(\n        \".paragraph--type--header-large .arrow-down\",\n        document\n      );\n      if (scrollDownBtn.length > 0) {\n        scrollDownBtn.click(() => {\n          // scroll to the first paragraph after header image\n          $(\".paragraph\", context)[1].scrollIntoView();\n        });\n      }\n      // Hide tags if there are more than 2\n      $(\n        \".node--view-mode-teaser-list .field--name-field-tags, .node--view-mode-teaser-big .field--name-field-tags\",\n        document\n      ).each(() => {\n        if ($(this).find(\"li\").length > 2) {\n          $(this)\n            .find(\"ul\")\n            .addClass(\"hide-more\");\n          $(this)\n            .find(\"ul\")\n            .append('<li class=\"show-tags\">...</li>');\n        }\n      });\n\n      // Show tags when clicked on show tags button\n      $(\".show-tags\", document).click(() => {\n        $(this)\n          .parent()\n          .removeClass(\"hide-more\");\n      });\n\n      // Auto select input search box\n      $(\"#search-menu-dropdown\", document).on(\"shown.bs.dropdown\", () => {\n        $(\"#edit-keys-dropdown\", document)\n          .focus()\n          .select();\n      });\n\n      // Auto reload search on number of results change with AJAX\n      function registerItemsPerPageHandler() {\n        $(\"[id^=edit-items-per-page]\", document).on(\"change\", () => {\n          $(\"[id^=edit-submit-k-centres-search]\", document).trigger(\"click\");\n        });\n      }\n\n      registerItemsPerPageHandler();\n\n      $(document).on(\"ajaxComplete\", () => {\n        registerItemsPerPageHandler();\n      });\n\n      // Auto expand secondary menu active item\n      const activeDropdownTgg = $(\n        \".sidebar_second .navbar .menu-item--expanded .dropdown-toggle.is-active\",\n        document\n      );\n      const body = $(\"body\", document);\n\n      if (activeDropdownTgg.length) {\n        body.addClass(\"position-fixed\");\n        bootstrap.Dropdown.getOrCreateInstance(activeDropdownTgg).show();\n        activeDropdownTgg.blur();\n        body.removeClass(\"position-fixed\");\n      }\n    }\n  };\n})(jQuery, Drupal);\n"],"mappings":"AAKA,EAAEA,EAAGC,KACHA,EAAOC,UAAUC,oBAAsB,CACrCC,OAAQ,SAAgBC,GACtB,GAAIA,IAAYC,UAAoC,gBAAxBA,SAASC,WACnC,OAIFP,EACE,iGACAM,UACAE,MAAK,KACL,MAAMC,EAAQT,EAAEU,MACbC,KAAK,SACLC,OACHZ,EAAEU,MACCC,KAAK,iBACLE,KAAK,cAAeJ,EAAM,IAI/B,MAAMK,EAAgBd,EACpB,6CACAM,UAsCF,SAASS,IACPf,EAAE,4BAA6BM,UAAUU,GAAG,UAAU,KACpDhB,EAAE,qCAAsCM,UAAUW,QAAQ,QAAQ,GAEtE,CAxCIH,EAAcI,OAAS,GACzBJ,EAAcK,OAAM,KAElBnB,EAAE,aAAcK,GAAS,GAAGe,gBAAgB,IAIhDpB,EACE,4GACAM,UACAE,MAAK,KACDR,EAAEU,MAAMC,KAAK,MAAMO,OAAS,IAC9BlB,EAAEU,MACCC,KAAK,MACLU,SAAS,aACZrB,EAAEU,MACCC,KAAK,MACLW,OAAO,kCACZ,IAIFtB,EAAE,aAAcM,UAAUa,OAAM,KAC9BnB,EAAEU,MACCa,SACAC,YAAY,YAAY,IAI7BxB,EAAE,wBAAyBM,UAAUU,GAAG,qBAAqB,KAC3DhB,EAAE,sBAAuBM,UACtBmB,QACAC,QAAQ,IAUbX,IAEAf,EAAEM,UAAUU,GAAG,gBAAgB,KAC7BD,GAA6B,IAI/B,MAAMY,EAAoB3B,EACxB,0EACAM,UAEIsB,EAAO5B,EAAE,OAAQM,UAEnBqB,EAAkBT,SACpBU,EAAKP,SAAS,kBACdQ,UAAUC,SAASC,oBAAoBJ,GAAmBK,OAC1DL,EAAkBM,OAClBL,EAAKJ,YAAY,kBAErB,EAEH,EAxFD,CAwFGU,OAAQjC"}