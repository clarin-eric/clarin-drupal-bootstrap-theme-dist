{"version":3,"file":"../toc.min.js","names":["$","Drupal","behaviors","clarin_theme_toc","attach","context","document","readyState","timer","navSelector","window","cancelAnimationFrame","requestAnimationFrame","Toc","init","$nav","$scope","body","bootstrap","ScrollSpy","target","refresh","jQuery"],"sources":["toc.js"],"sourcesContent":["/**\n * @file\n * Initialize TOC\n *\n */\n(($, Drupal) => {\n  Drupal.behaviors.clarin_theme_toc = {\n    attach: function attach(context) {\n      if (context === document && document.readyState !== \"loading\") {\n        $(function initToc() {\n          let timer = null;\n          const navSelector = \"#toc\";\n          const scopeSelector = \"#tocscope\";\n          window.cancelAnimationFrame(timer);\n          timer = window.requestAnimationFrame(() => {\n            Toc.init({\n              $nav: $(navSelector, context),\n              $scope: $(scopeSelector, context)\n            });\n            const body = $(\"body\", context);\n            const scrollSpy = new bootstrap.ScrollSpy(body, {\n              target: navSelector\n            });\n            scrollSpy.refresh();\n          });\n        });\n      }\n    }\n  };\n})(jQuery, Drupal);\n"],"mappings":"AAKA,EAAEA,EAAGC,KACHA,EAAOC,UAAUC,iBAAmB,CAClCC,OAAQ,SAAgBC,GAClBA,IAAYC,UAAoC,YAAxBA,SAASC,YACnCP,GAAE,WACA,IAAIQ,EAAQ,KACZ,MAAMC,EAAc,OAEpBC,OAAOC,qBAAqBH,GAC5BA,EAAQE,OAAOE,uBAAsB,KACnCC,IAAIC,KAAK,CACPC,KAAMf,EAAES,EAAaJ,GACrBW,OAAQhB,EALU,YAKOK,KAE3B,MAAMY,EAAOjB,EAAE,OAAQK,GACL,IAAIa,UAAUC,UAAUF,EAAM,CAC9CG,OAAQX,IAEAY,SAAS,GAEvB,GAEJ,EAEH,EAxBD,CAwBGC,OAAQrB"}